(function(K,F){typeof exports=="object"&&typeof module<"u"?F(exports):typeof define=="function"&&define.amd?define(["exports"],F):(K=typeof globalThis<"u"?globalThis:K||self,F(K["hpc-components"]={}))})(this,function(K){"use strict";var Lo=Object.defineProperty;var Bo=(K,F,oe)=>F in K?Lo(K,F,{enumerable:!0,configurable:!0,writable:!0,value:oe}):K[F]=oe;var G=(K,F,oe)=>(Bo(K,typeof F!="symbol"?F+"":F,oe),oe);function F(){}function oe(e){return e()}function it(){return Object.create(null)}function $e(e){e.forEach(oe)}function st(e){return typeof e=="function"}function at(e,n){return e!=e?n==n:e!==n||e&&typeof e=="object"||typeof e=="function"}function On(e){return Object.keys(e).length===0}function ut(e,...n){if(e==null){for(const c of n)c(void 0);return F}const o=e.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}function xn(e){let n;return ut(e,o=>n=o)(),n}function Z(e,n){e.appendChild(n)}function Rn(e,n,o){const c=Nn(e);if(!c.getElementById(n)){const f=te("style");f.id=n,f.textContent=o,Cn(c,f)}}function Nn(e){if(!e)return document;const n=e.getRootNode?e.getRootNode():e.ownerDocument;return n&&n.host?n:e.ownerDocument}function Cn(e,n){return Z(e.head||e,n),n.sheet}function ie(e,n,o){e.insertBefore(n,o||null)}function ee(e){e.parentNode&&e.parentNode.removeChild(e)}function Dn(e,n){for(let o=0;o<e.length;o+=1)e[o]&&e[o].d(n)}function te(e){return document.createElement(e)}function he(e){return document.createTextNode(e)}function Ce(){return he(" ")}function kn(){return he("")}function ct(e,n,o,c){return e.addEventListener(n,o,c),()=>e.removeEventListener(n,o,c)}function Pn(e){return function(n){return n.preventDefault(),e.call(this,n)}}function J(e,n,o){o==null?e.removeAttribute(n):e.getAttribute(n)!==o&&e.setAttribute(n,o)}function Un(e){return Array.from(e.childNodes)}function Fe(e,n){n=""+n,e.data!==n&&(e.data=n)}function ft(e,n){e.value=n??""}function Mn(e){const n={};return e.childNodes.forEach(o=>{n[o.slot||"default"]=!0}),n}let Se;function Ee(e){Se=e}function jn(){if(!Se)throw new Error("Function called outside component initialization");return Se}function Hn(e){jn().$$.on_mount.push(e)}const ve=[],lt=[];let pe=[];const dt=[],Fn=Promise.resolve();let ze=!1;function zn(){ze||(ze=!0,Fn.then(ht))}function qe(e){pe.push(e)}const We=new Set;let me=0;function ht(){if(me!==0)return;const e=Se;do{try{for(;me<ve.length;){const n=ve[me];me++,Ee(n),qn(n.$$)}}catch(n){throw ve.length=0,me=0,n}for(Ee(null),ve.length=0,me=0;lt.length;)lt.pop()();for(let n=0;n<pe.length;n+=1){const o=pe[n];We.has(o)||(We.add(o),o())}pe.length=0}while(ve.length);for(;dt.length;)dt.pop()();ze=!1,We.clear(),Ee(e)}function qn(e){if(e.fragment!==null){e.update(),$e(e.before_update);const n=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,n),e.after_update.forEach(qe)}}function Wn(e){const n=[],o=[];pe.forEach(c=>e.indexOf(c)===-1?n.push(c):o.push(c)),o.forEach(c=>c()),pe=n}const Yn=new Set;function Vn(e,n){e&&e.i&&(Yn.delete(e),e.i(n))}function vt(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function Kn(e,n,o){const{fragment:c,after_update:f}=e.$$;c&&c.m(n,o),qe(()=>{const h=e.$$.on_mount.map(oe).filter(st);e.$$.on_destroy?e.$$.on_destroy.push(...h):$e(h),e.$$.on_mount=[]}),f.forEach(qe)}function Xn(e,n){const o=e.$$;o.fragment!==null&&(Wn(o.after_update),$e(o.on_destroy),o.fragment&&o.fragment.d(n),o.on_destroy=o.fragment=null,o.ctx=[])}function Gn(e,n){e.$$.dirty[0]===-1&&(ve.push(e),zn(),e.$$.dirty.fill(0)),e.$$.dirty[n/31|0]|=1<<n%31}function Jn(e,n,o,c,f,h,v=null,g=[-1]){const E=Se;Ee(e);const y=e.$$={fragment:null,ctx:[],props:h,update:F,not_equal:f,bound:it(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(E?E.$$.context:[])),callbacks:it(),dirty:g,skip_bound:!1,root:n.target||E.$$.root};v&&v(y.root);let I=!1;if(y.ctx=o?o(e,n.props||{},(l,S,...B)=>{const D=B.length?B[0]:S;return y.ctx&&f(y.ctx[l],y.ctx[l]=D)&&(!y.skip_bound&&y.bound[l]&&y.bound[l](D),I&&Gn(e,l)),S}):[],y.update(),I=!0,$e(y.before_update),y.fragment=c?c(y.ctx):!1,n.target){if(n.hydrate){const l=Un(n.target);y.fragment&&y.fragment.l(l),l.forEach(ee)}else y.fragment&&y.fragment.c();n.intro&&Vn(e.$$.fragment),Kn(e,n.target,n.anchor),ht()}Ee(E)}let pt;typeof HTMLElement=="function"&&(pt=class extends HTMLElement{constructor(n,o,c){super();G(this,"$$ctor");G(this,"$$s");G(this,"$$c");G(this,"$$cn",!1);G(this,"$$d",{});G(this,"$$r",!1);G(this,"$$p_d",{});G(this,"$$l",{});G(this,"$$l_u",new Map);this.$$ctor=n,this.$$s=o,c&&this.attachShadow({mode:"open"})}addEventListener(n,o,c){if(this.$$l[n]=this.$$l[n]||[],this.$$l[n].push(o),this.$$c){const f=this.$$c.$on(n,o);this.$$l_u.set(o,f)}super.addEventListener(n,o,c)}removeEventListener(n,o,c){if(super.removeEventListener(n,o,c),this.$$c){const f=this.$$l_u.get(o);f&&(f(),this.$$l_u.delete(o))}}async connectedCallback(){if(this.$$cn=!0,!this.$$c){let n=function(h){return()=>{let v;return{c:function(){v=te("slot"),h!=="default"&&J(v,"name",h)},m:function(y,I){ie(y,v,I)},d:function(y){y&&ee(v)}}}};if(await Promise.resolve(),!this.$$cn)return;const o={},c=Mn(this);for(const h of this.$$s)h in c&&(o[h]=[n(h)]);for(const h of this.attributes){const v=this.$$g_p(h.name);v in this.$$d||(this.$$d[v]=De(v,h.value,this.$$p_d,"toProp"))}for(const h in this.$$p_d)!(h in this.$$d)&&this[h]!==void 0&&(this.$$d[h]=this[h],delete this[h]);this.$$c=new this.$$ctor({target:this.shadowRoot||this,props:{...this.$$d,$$slots:o,$$scope:{ctx:[]}}});const f=()=>{this.$$r=!0;for(const h in this.$$p_d)if(this.$$d[h]=this.$$c.$$.ctx[this.$$c.$$.props[h]],this.$$p_d[h].reflect){const v=De(h,this.$$d[h],this.$$p_d,"toAttribute");v==null?this.removeAttribute(this.$$p_d[h].attribute||h):this.setAttribute(this.$$p_d[h].attribute||h,v)}this.$$r=!1};this.$$c.$$.after_update.push(f),f();for(const h in this.$$l)for(const v of this.$$l[h]){const g=this.$$c.$on(h,v);this.$$l_u.set(v,g)}this.$$l={}}}attributeChangedCallback(n,o,c){var f;this.$$r||(n=this.$$g_p(n),this.$$d[n]=De(n,c,this.$$p_d,"toProp"),(f=this.$$c)==null||f.$set({[n]:this.$$d[n]}))}disconnectedCallback(){this.$$cn=!1,Promise.resolve().then(()=>{this.$$cn||(this.$$c.$destroy(),this.$$c=void 0)})}$$g_p(n){return Object.keys(this.$$p_d).find(o=>this.$$p_d[o].attribute===n||!this.$$p_d[o].attribute&&o.toLowerCase()===n)||n}});function De(e,n,o,c){var h;const f=(h=o[e])==null?void 0:h.type;if(n=f==="Boolean"&&typeof n!="boolean"?n!=null:n,!c||!o[e])return n;if(c==="toAttribute")switch(f){case"Object":case"Array":return n==null?null:JSON.stringify(n);case"Boolean":return n?"":null;case"Number":return n??null;default:return n}else switch(f){case"Object":case"Array":return n&&JSON.parse(n);case"Boolean":return n;case"Number":return n!=null?+n:n;default:return n}}function Qn(e,n,o,c,f,h){let v=class extends pt{constructor(){super(e,o,f),this.$$p_d=n}static get observedAttributes(){return Object.keys(n).map(g=>(n[g].attribute||g).toLowerCase())}};return Object.keys(n).forEach(g=>{Object.defineProperty(v.prototype,g,{get(){return this.$$c&&g in this.$$c?this.$$c[g]:this.$$d[g]},set(E){var y;E=De(g,E,n),this.$$d[g]=E,(y=this.$$c)==null||y.$set({[g]:E})}})}),c.forEach(g=>{Object.defineProperty(v.prototype,g,{get(){var E;return(E=this.$$c)==null?void 0:E[g]}})}),h&&(v=h(v)),e.element=v,v}class Zn{constructor(){G(this,"$$");G(this,"$$set")}$destroy(){Xn(this,1),this.$destroy=F}$on(n,o){if(!st(o))return F;const c=this.$$.callbacks[n]||(this.$$.callbacks[n]=[]);return c.push(o),()=>{const f=c.indexOf(o);f!==-1&&c.splice(f,1)}}$set(n){this.$$set&&!On(n)&&(this.$$.skip_bound=!0,this.$$set(n),this.$$.skip_bound=!1)}}const er="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(er);var ge=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function tr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function ke(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var mt={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(e,n){(function(o){e.exports=o()})(function(){return function o(c,f,h){function v(y,I){if(!f[y]){if(!c[y]){var l=typeof ke=="function"&&ke;if(!I&&l)return l(y,!0);if(g)return g(y,!0);var S=new Error("Cannot find module '"+y+"'");throw S.code="MODULE_NOT_FOUND",S}var B=f[y]={exports:{}};c[y][0].call(B.exports,function(D){var Y=c[y][1][D];return v(Y||D)},B,B.exports,o,c,f,h)}return f[y].exports}for(var g=typeof ke=="function"&&ke,E=0;E<h.length;E++)v(h[E]);return v}({1:[function(o,c,f){(function(h){var v=h.MutationObserver||h.WebKitMutationObserver,g;if(v){var E=0,y=new v(D),I=h.document.createTextNode("");y.observe(I,{characterData:!0}),g=function(){I.data=E=++E%2}}else if(!h.setImmediate&&typeof h.MessageChannel<"u"){var l=new h.MessageChannel;l.port1.onmessage=D,g=function(){l.port2.postMessage(0)}}else"document"in h&&"onreadystatechange"in h.document.createElement("script")?g=function(){var j=h.document.createElement("script");j.onreadystatechange=function(){D(),j.onreadystatechange=null,j.parentNode.removeChild(j),j=null},h.document.documentElement.appendChild(j)}:g=function(){setTimeout(D,0)};var S,B=[];function D(){S=!0;for(var j,Q,q=B.length;q;){for(Q=B,B=[],j=-1;++j<q;)Q[j]();q=B.length}S=!1}c.exports=Y;function Y(j){B.push(j)===1&&!S&&g()}}).call(this,typeof ge<"u"?ge:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(o,c,f){var h=o(1);function v(){}var g={},E=["REJECTED"],y=["FULFILLED"],I=["PENDING"];c.exports=l;function l($){if(typeof $!="function")throw new TypeError("resolver must be a function");this.state=I,this.queue=[],this.outcome=void 0,$!==v&&Y(this,$)}l.prototype.catch=function($){return this.then(null,$)},l.prototype.then=function($,C){if(typeof $!="function"&&this.state===y||typeof C!="function"&&this.state===E)return this;var O=new this.constructor(v);if(this.state!==I){var p=this.state===y?$:C;B(O,p,this.outcome)}else this.queue.push(new S(O,$,C));return O};function S($,C,O){this.promise=$,typeof C=="function"&&(this.onFulfilled=C,this.callFulfilled=this.otherCallFulfilled),typeof O=="function"&&(this.onRejected=O,this.callRejected=this.otherCallRejected)}S.prototype.callFulfilled=function($){g.resolve(this.promise,$)},S.prototype.otherCallFulfilled=function($){B(this.promise,this.onFulfilled,$)},S.prototype.callRejected=function($){g.reject(this.promise,$)},S.prototype.otherCallRejected=function($){B(this.promise,this.onRejected,$)};function B($,C,O){h(function(){var p;try{p=C(O)}catch(L){return g.reject($,L)}p===$?g.reject($,new TypeError("Cannot resolve promise with itself")):g.resolve($,p)})}g.resolve=function($,C){var O=j(D,C);if(O.status==="error")return g.reject($,O.value);var p=O.value;if(p)Y($,p);else{$.state=y,$.outcome=C;for(var L=-1,N=$.queue.length;++L<N;)$.queue[L].callFulfilled(C)}return $},g.reject=function($,C){$.state=E,$.outcome=C;for(var O=-1,p=$.queue.length;++O<p;)$.queue[O].callRejected(C);return $};function D($){var C=$&&$.then;if($&&(typeof $=="object"||typeof $=="function")&&typeof C=="function")return function(){C.apply($,arguments)}}function Y($,C){var O=!1;function p(k){O||(O=!0,g.reject($,k))}function L(k){O||(O=!0,g.resolve($,k))}function N(){C(L,p)}var R=j(N);R.status==="error"&&p(R.value)}function j($,C){var O={};try{O.value=$(C),O.status="success"}catch(p){O.status="error",O.value=p}return O}l.resolve=Q;function Q($){return $ instanceof this?$:g.resolve(new this(v),$)}l.reject=q;function q($){var C=new this(v);return g.reject(C,$)}l.all=Oe;function Oe($){var C=this;if(Object.prototype.toString.call($)!=="[object Array]")return this.reject(new TypeError("must be an array"));var O=$.length,p=!1;if(!O)return this.resolve([]);for(var L=new Array(O),N=0,R=-1,k=new this(v);++R<O;)H($[R],R);return k;function H(ue,de){C.resolve(ue).then(xe,function(be){p||(p=!0,g.reject(k,be))});function xe(be){L[de]=be,++N===O&&!p&&(p=!0,g.resolve(k,L))}}}l.race=ne;function ne($){var C=this;if(Object.prototype.toString.call($)!=="[object Array]")return this.reject(new TypeError("must be an array"));var O=$.length,p=!1;if(!O)return this.resolve([]);for(var L=-1,N=new this(v);++L<O;)R($[L]);return N;function R(k){C.resolve(k).then(function(H){p||(p=!0,g.resolve(N,H))},function(H){p||(p=!0,g.reject(N,H))})}}},{1:1}],3:[function(o,c,f){(function(h){typeof h.Promise!="function"&&(h.Promise=o(2))}).call(this,typeof ge<"u"?ge:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(o,c,f){var h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function v(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function g(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var E=g();function y(){try{if(!E||!E.open)return!1;var t=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),i=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!t||i)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function I(t,i){t=t||[],i=i||{};try{return new Blob(t,i)}catch(s){if(s.name!=="TypeError")throw s;for(var r=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,a=new r,u=0;u<t.length;u+=1)a.append(t[u]);return a.getBlob(i.type)}}typeof Promise>"u"&&o(3);var l=Promise;function S(t,i){i&&t.then(function(r){i(null,r)},function(r){i(r)})}function B(t,i,r){typeof i=="function"&&t.then(i),typeof r=="function"&&t.catch(r)}function D(t){return typeof t!="string"&&(console.warn(t+" used as a key, but it is not a string."),t=String(t)),t}function Y(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var j="local-forage-detect-blob-support",Q=void 0,q={},Oe=Object.prototype.toString,ne="readonly",$="readwrite";function C(t){for(var i=t.length,r=new ArrayBuffer(i),a=new Uint8Array(r),u=0;u<i;u++)a[u]=t.charCodeAt(u);return r}function O(t){return new l(function(i){var r=t.transaction(j,$),a=I([""]);r.objectStore(j).put(a,"key"),r.onabort=function(u){u.preventDefault(),u.stopPropagation(),i(!1)},r.oncomplete=function(){var u=navigator.userAgent.match(/Chrome\/(\d+)/),s=navigator.userAgent.match(/Edge\//);i(s||!u||parseInt(u[1],10)>=43)}}).catch(function(){return!1})}function p(t){return typeof Q=="boolean"?l.resolve(Q):O(t).then(function(i){return Q=i,Q})}function L(t){var i=q[t.name],r={};r.promise=new l(function(a,u){r.resolve=a,r.reject=u}),i.deferredOperations.push(r),i.dbReady?i.dbReady=i.dbReady.then(function(){return r.promise}):i.dbReady=r.promise}function N(t){var i=q[t.name],r=i.deferredOperations.pop();if(r)return r.resolve(),r.promise}function R(t,i){var r=q[t.name],a=r.deferredOperations.pop();if(a)return a.reject(i),a.promise}function k(t,i){return new l(function(r,a){if(q[t.name]=q[t.name]||fn(),t.db)if(i)L(t),t.db.close();else return r(t.db);var u=[t.name];i&&u.push(t.version);var s=E.open.apply(E,u);i&&(s.onupgradeneeded=function(d){var m=s.result;try{m.createObjectStore(t.storeName),d.oldVersion<=1&&m.createObjectStore(j)}catch(_){if(_.name==="ConstraintError")console.warn('The database "'+t.name+'" has been upgraded from version '+d.oldVersion+" to version "+d.newVersion+', but the storage "'+t.storeName+'" already exists.');else throw _}}),s.onerror=function(d){d.preventDefault(),a(s.error)},s.onsuccess=function(){var d=s.result;d.onversionchange=function(m){m.target.close()},r(d),N(t)}})}function H(t){return k(t,!1)}function ue(t){return k(t,!0)}function de(t,i){if(!t.db)return!0;var r=!t.db.objectStoreNames.contains(t.storeName),a=t.version<t.db.version,u=t.version>t.db.version;if(a&&(t.version!==i&&console.warn('The database "'+t.name+`" can't be downgraded from version `+t.db.version+" to version "+t.version+"."),t.version=t.db.version),u||r){if(r){var s=t.db.version+1;s>t.version&&(t.version=s)}return!0}return!1}function xe(t){return new l(function(i,r){var a=new FileReader;a.onerror=r,a.onloadend=function(u){var s=btoa(u.target.result||"");i({__local_forage_encoded_blob:!0,data:s,type:t.type})},a.readAsBinaryString(t)})}function be(t){var i=C(atob(t.data));return I([i],{type:t.type})}function cn(t){return t&&t.__local_forage_encoded_blob}function Lr(t){var i=this,r=i._initReady().then(function(){var a=q[i._dbInfo.name];if(a&&a.dbReady)return a.dbReady});return B(r,t,t),r}function Br(t){L(t);for(var i=q[t.name],r=i.forages,a=0;a<r.length;a++){var u=r[a];u._dbInfo.db&&(u._dbInfo.db.close(),u._dbInfo.db=null)}return t.db=null,H(t).then(function(s){return t.db=s,de(t)?ue(t):s}).then(function(s){t.db=i.db=s;for(var d=0;d<r.length;d++)r[d]._dbInfo.db=s}).catch(function(s){throw R(t,s),s})}function re(t,i,r,a){a===void 0&&(a=1);try{var u=t.db.transaction(t.storeName,i);r(null,u)}catch(s){if(a>0&&(!t.db||s.name==="InvalidStateError"||s.name==="NotFoundError"))return l.resolve().then(function(){if(!t.db||s.name==="NotFoundError"&&!t.db.objectStoreNames.contains(t.storeName)&&t.version<=t.db.version)return t.db&&(t.version=t.db.version+1),ue(t)}).then(function(){return Br(t).then(function(){re(t,i,r,a-1)})}).catch(r);r(s)}}function fn(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function Tr(t){var i=this,r={db:null};if(t)for(var a in t)r[a]=t[a];var u=q[r.name];u||(u=fn(),q[r.name]=u),u.forages.push(i),i._initReady||(i._initReady=i.ready,i.ready=Lr);var s=[];function d(){return l.resolve()}for(var m=0;m<u.forages.length;m++){var _=u.forages[m];_!==i&&s.push(_._initReady().catch(d))}var b=u.forages.slice(0);return l.all(s).then(function(){return r.db=u.db,H(r)}).then(function(w){return r.db=w,de(r,i._defaultConfig.version)?ue(r):w}).then(function(w){r.db=u.db=w,i._dbInfo=r;for(var A=0;A<b.length;A++){var x=b[A];x!==i&&(x._dbInfo.db=r.db,x._dbInfo.version=r.version)}})}function Or(t,i){var r=this;t=D(t);var a=new l(function(u,s){r.ready().then(function(){re(r._dbInfo,ne,function(d,m){if(d)return s(d);try{var _=m.objectStore(r._dbInfo.storeName),b=_.get(t);b.onsuccess=function(){var w=b.result;w===void 0&&(w=null),cn(w)&&(w=be(w)),u(w)},b.onerror=function(){s(b.error)}}catch(w){s(w)}})}).catch(s)});return S(a,i),a}function xr(t,i){var r=this,a=new l(function(u,s){r.ready().then(function(){re(r._dbInfo,ne,function(d,m){if(d)return s(d);try{var _=m.objectStore(r._dbInfo.storeName),b=_.openCursor(),w=1;b.onsuccess=function(){var A=b.result;if(A){var x=A.value;cn(x)&&(x=be(x));var P=t(x,A.key,w++);P!==void 0?u(P):A.continue()}else u()},b.onerror=function(){s(b.error)}}catch(A){s(A)}})}).catch(s)});return S(a,i),a}function Rr(t,i,r){var a=this;t=D(t);var u=new l(function(s,d){var m;a.ready().then(function(){return m=a._dbInfo,Oe.call(i)==="[object Blob]"?p(m.db).then(function(_){return _?i:xe(i)}):i}).then(function(_){re(a._dbInfo,$,function(b,w){if(b)return d(b);try{var A=w.objectStore(a._dbInfo.storeName);_===null&&(_=void 0);var x=A.put(_,t);w.oncomplete=function(){_===void 0&&(_=null),s(_)},w.onabort=w.onerror=function(){var P=x.error?x.error:x.transaction.error;d(P)}}catch(P){d(P)}})}).catch(d)});return S(u,r),u}function Nr(t,i){var r=this;t=D(t);var a=new l(function(u,s){r.ready().then(function(){re(r._dbInfo,$,function(d,m){if(d)return s(d);try{var _=m.objectStore(r._dbInfo.storeName),b=_.delete(t);m.oncomplete=function(){u()},m.onerror=function(){s(b.error)},m.onabort=function(){var w=b.error?b.error:b.transaction.error;s(w)}}catch(w){s(w)}})}).catch(s)});return S(a,i),a}function Cr(t){var i=this,r=new l(function(a,u){i.ready().then(function(){re(i._dbInfo,$,function(s,d){if(s)return u(s);try{var m=d.objectStore(i._dbInfo.storeName),_=m.clear();d.oncomplete=function(){a()},d.onabort=d.onerror=function(){var b=_.error?_.error:_.transaction.error;u(b)}}catch(b){u(b)}})}).catch(u)});return S(r,t),r}function Dr(t){var i=this,r=new l(function(a,u){i.ready().then(function(){re(i._dbInfo,ne,function(s,d){if(s)return u(s);try{var m=d.objectStore(i._dbInfo.storeName),_=m.count();_.onsuccess=function(){a(_.result)},_.onerror=function(){u(_.error)}}catch(b){u(b)}})}).catch(u)});return S(r,t),r}function kr(t,i){var r=this,a=new l(function(u,s){if(t<0){u(null);return}r.ready().then(function(){re(r._dbInfo,ne,function(d,m){if(d)return s(d);try{var _=m.objectStore(r._dbInfo.storeName),b=!1,w=_.openKeyCursor();w.onsuccess=function(){var A=w.result;if(!A){u(null);return}t===0||b?u(A.key):(b=!0,A.advance(t))},w.onerror=function(){s(w.error)}}catch(A){s(A)}})}).catch(s)});return S(a,i),a}function Pr(t){var i=this,r=new l(function(a,u){i.ready().then(function(){re(i._dbInfo,ne,function(s,d){if(s)return u(s);try{var m=d.objectStore(i._dbInfo.storeName),_=m.openKeyCursor(),b=[];_.onsuccess=function(){var w=_.result;if(!w){a(b);return}b.push(w.key),w.continue()},_.onerror=function(){u(_.error)}}catch(w){u(w)}})}).catch(u)});return S(r,t),r}function Ur(t,i){i=Y.apply(this,arguments);var r=this.config();t=typeof t!="function"&&t||{},t.name||(t.name=t.name||r.name,t.storeName=t.storeName||r.storeName);var a=this,u;if(!t.name)u=l.reject("Invalid arguments");else{var s=t.name===r.name&&a._dbInfo.db,d=s?l.resolve(a._dbInfo.db):H(t).then(function(m){var _=q[t.name],b=_.forages;_.db=m;for(var w=0;w<b.length;w++)b[w]._dbInfo.db=m;return m});t.storeName?u=d.then(function(m){if(m.objectStoreNames.contains(t.storeName)){var _=m.version+1;L(t);var b=q[t.name],w=b.forages;m.close();for(var A=0;A<w.length;A++){var x=w[A];x._dbInfo.db=null,x._dbInfo.version=_}var P=new l(function(U,W){var z=E.open(t.name,_);z.onerror=function(X){var Ne=z.result;Ne.close(),W(X)},z.onupgradeneeded=function(){var X=z.result;X.deleteObjectStore(t.storeName)},z.onsuccess=function(){var X=z.result;X.close(),U(X)}});return P.then(function(U){b.db=U;for(var W=0;W<w.length;W++){var z=w[W];z._dbInfo.db=U,N(z._dbInfo)}}).catch(function(U){throw(R(t,U)||l.resolve()).catch(function(){}),U})}}):u=d.then(function(m){L(t);var _=q[t.name],b=_.forages;m.close();for(var w=0;w<b.length;w++){var A=b[w];A._dbInfo.db=null}var x=new l(function(P,U){var W=E.deleteDatabase(t.name);W.onerror=function(){var z=W.result;z&&z.close(),U(W.error)},W.onblocked=function(){console.warn('dropInstance blocked for database "'+t.name+'" until all open connections are closed')},W.onsuccess=function(){var z=W.result;z&&z.close(),P(z)}});return x.then(function(P){_.db=P;for(var U=0;U<b.length;U++){var W=b[U];N(W._dbInfo)}}).catch(function(P){throw(R(t,P)||l.resolve()).catch(function(){}),P})})}return S(u,i),u}var Mr={_driver:"asyncStorage",_initStorage:Tr,_support:y(),iterate:xr,getItem:Or,setItem:Rr,removeItem:Nr,clear:Cr,length:Dr,key:kr,keys:Pr,dropInstance:Ur};function jr(){return typeof openDatabase=="function"}var ce="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Hr="~~local_forage_type~",ln=/^~~local_forage_type~([^~]+)~/,je="__lfsc__:",Ge=je.length,Je="arbf",Qe="blob",dn="si08",hn="ui08",vn="uic8",pn="si16",mn="si32",gn="ur16",yn="ui32",_n="fl32",bn="fl64",wn=Ge+Je.length,$n=Object.prototype.toString;function Sn(t){var i=t.length*.75,r=t.length,a,u=0,s,d,m,_;t[t.length-1]==="="&&(i--,t[t.length-2]==="="&&i--);var b=new ArrayBuffer(i),w=new Uint8Array(b);for(a=0;a<r;a+=4)s=ce.indexOf(t[a]),d=ce.indexOf(t[a+1]),m=ce.indexOf(t[a+2]),_=ce.indexOf(t[a+3]),w[u++]=s<<2|d>>4,w[u++]=(d&15)<<4|m>>2,w[u++]=(m&3)<<6|_&63;return b}function Ze(t){var i=new Uint8Array(t),r="",a;for(a=0;a<i.length;a+=3)r+=ce[i[a]>>2],r+=ce[(i[a]&3)<<4|i[a+1]>>4],r+=ce[(i[a+1]&15)<<2|i[a+2]>>6],r+=ce[i[a+2]&63];return i.length%3===2?r=r.substring(0,r.length-1)+"=":i.length%3===1&&(r=r.substring(0,r.length-2)+"=="),r}function Fr(t,i){var r="";if(t&&(r=$n.call(t)),t&&(r==="[object ArrayBuffer]"||t.buffer&&$n.call(t.buffer)==="[object ArrayBuffer]")){var a,u=je;t instanceof ArrayBuffer?(a=t,u+=Je):(a=t.buffer,r==="[object Int8Array]"?u+=dn:r==="[object Uint8Array]"?u+=hn:r==="[object Uint8ClampedArray]"?u+=vn:r==="[object Int16Array]"?u+=pn:r==="[object Uint16Array]"?u+=gn:r==="[object Int32Array]"?u+=mn:r==="[object Uint32Array]"?u+=yn:r==="[object Float32Array]"?u+=_n:r==="[object Float64Array]"?u+=bn:i(new Error("Failed to get type for BinaryArray"))),i(u+Ze(a))}else if(r==="[object Blob]"){var s=new FileReader;s.onload=function(){var d=Hr+t.type+"~"+Ze(this.result);i(je+Qe+d)},s.readAsArrayBuffer(t)}else try{i(JSON.stringify(t))}catch(d){console.error("Couldn't convert value into a JSON string: ",t),i(null,d)}}function zr(t){if(t.substring(0,Ge)!==je)return JSON.parse(t);var i=t.substring(wn),r=t.substring(Ge,wn),a;if(r===Qe&&ln.test(i)){var u=i.match(ln);a=u[1],i=i.substring(u[0].length)}var s=Sn(i);switch(r){case Je:return s;case Qe:return I([s],{type:a});case dn:return new Int8Array(s);case hn:return new Uint8Array(s);case vn:return new Uint8ClampedArray(s);case pn:return new Int16Array(s);case gn:return new Uint16Array(s);case mn:return new Int32Array(s);case yn:return new Uint32Array(s);case _n:return new Float32Array(s);case bn:return new Float64Array(s);default:throw new Error("Unkown type: "+r)}}var et={serialize:Fr,deserialize:zr,stringToBuffer:Sn,bufferToString:Ze};function En(t,i,r,a){t.executeSql("CREATE TABLE IF NOT EXISTS "+i.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],r,a)}function qr(t){var i=this,r={db:null};if(t)for(var a in t)r[a]=typeof t[a]!="string"?t[a].toString():t[a];var u=new l(function(s,d){try{r.db=openDatabase(r.name,String(r.version),r.description,r.size)}catch(m){return d(m)}r.db.transaction(function(m){En(m,r,function(){i._dbInfo=r,s()},function(_,b){d(b)})},d)});return r.serializer=et,u}function fe(t,i,r,a,u,s){t.executeSql(r,a,u,function(d,m){m.code===m.SYNTAX_ERR?d.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[i.storeName],function(_,b){b.rows.length?s(_,m):En(_,i,function(){_.executeSql(r,a,u,s)},s)},s):s(d,m)},s)}function Wr(t,i){var r=this;t=D(t);var a=new l(function(u,s){r.ready().then(function(){var d=r._dbInfo;d.db.transaction(function(m){fe(m,d,"SELECT * FROM "+d.storeName+" WHERE key = ? LIMIT 1",[t],function(_,b){var w=b.rows.length?b.rows.item(0).value:null;w&&(w=d.serializer.deserialize(w)),u(w)},function(_,b){s(b)})})}).catch(s)});return S(a,i),a}function Yr(t,i){var r=this,a=new l(function(u,s){r.ready().then(function(){var d=r._dbInfo;d.db.transaction(function(m){fe(m,d,"SELECT * FROM "+d.storeName,[],function(_,b){for(var w=b.rows,A=w.length,x=0;x<A;x++){var P=w.item(x),U=P.value;if(U&&(U=d.serializer.deserialize(U)),U=t(U,P.key,x+1),U!==void 0){u(U);return}}u()},function(_,b){s(b)})})}).catch(s)});return S(a,i),a}function In(t,i,r,a){var u=this;t=D(t);var s=new l(function(d,m){u.ready().then(function(){i===void 0&&(i=null);var _=i,b=u._dbInfo;b.serializer.serialize(i,function(w,A){A?m(A):b.db.transaction(function(x){fe(x,b,"INSERT OR REPLACE INTO "+b.storeName+" (key, value) VALUES (?, ?)",[t,w],function(){d(_)},function(P,U){m(U)})},function(x){if(x.code===x.QUOTA_ERR){if(a>0){d(In.apply(u,[t,_,r,a-1]));return}m(x)}})})}).catch(m)});return S(s,r),s}function Vr(t,i,r){return In.apply(this,[t,i,r,1])}function Kr(t,i){var r=this;t=D(t);var a=new l(function(u,s){r.ready().then(function(){var d=r._dbInfo;d.db.transaction(function(m){fe(m,d,"DELETE FROM "+d.storeName+" WHERE key = ?",[t],function(){u()},function(_,b){s(b)})})}).catch(s)});return S(a,i),a}function Xr(t){var i=this,r=new l(function(a,u){i.ready().then(function(){var s=i._dbInfo;s.db.transaction(function(d){fe(d,s,"DELETE FROM "+s.storeName,[],function(){a()},function(m,_){u(_)})})}).catch(u)});return S(r,t),r}function Gr(t){var i=this,r=new l(function(a,u){i.ready().then(function(){var s=i._dbInfo;s.db.transaction(function(d){fe(d,s,"SELECT COUNT(key) as c FROM "+s.storeName,[],function(m,_){var b=_.rows.item(0).c;a(b)},function(m,_){u(_)})})}).catch(u)});return S(r,t),r}function Jr(t,i){var r=this,a=new l(function(u,s){r.ready().then(function(){var d=r._dbInfo;d.db.transaction(function(m){fe(m,d,"SELECT key FROM "+d.storeName+" WHERE id = ? LIMIT 1",[t+1],function(_,b){var w=b.rows.length?b.rows.item(0).key:null;u(w)},function(_,b){s(b)})})}).catch(s)});return S(a,i),a}function Qr(t){var i=this,r=new l(function(a,u){i.ready().then(function(){var s=i._dbInfo;s.db.transaction(function(d){fe(d,s,"SELECT key FROM "+s.storeName,[],function(m,_){for(var b=[],w=0;w<_.rows.length;w++)b.push(_.rows.item(w).key);a(b)},function(m,_){u(_)})})}).catch(u)});return S(r,t),r}function Zr(t){return new l(function(i,r){t.transaction(function(a){a.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(u,s){for(var d=[],m=0;m<s.rows.length;m++)d.push(s.rows.item(m).name);i({db:t,storeNames:d})},function(u,s){r(s)})},function(a){r(a)})})}function eo(t,i){i=Y.apply(this,arguments);var r=this.config();t=typeof t!="function"&&t||{},t.name||(t.name=t.name||r.name,t.storeName=t.storeName||r.storeName);var a=this,u;return t.name?u=new l(function(s){var d;t.name===r.name?d=a._dbInfo.db:d=openDatabase(t.name,"","",0),t.storeName?s({db:d,storeNames:[t.storeName]}):s(Zr(d))}).then(function(s){return new l(function(d,m){s.db.transaction(function(_){function b(P){return new l(function(U,W){_.executeSql("DROP TABLE IF EXISTS "+P,[],function(){U()},function(z,X){W(X)})})}for(var w=[],A=0,x=s.storeNames.length;A<x;A++)w.push(b(s.storeNames[A]));l.all(w).then(function(){d()}).catch(function(P){m(P)})},function(_){m(_)})})}):u=l.reject("Invalid arguments"),S(u,i),u}var to={_driver:"webSQLStorage",_initStorage:qr,_support:jr(),iterate:Yr,getItem:Wr,setItem:Vr,removeItem:Kr,clear:Xr,length:Gr,key:Jr,keys:Qr,dropInstance:eo};function no(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function An(t,i){var r=t.name+"/";return t.storeName!==i.storeName&&(r+=t.storeName+"/"),r}function ro(){var t="_localforage_support_test";try{return localStorage.setItem(t,!0),localStorage.removeItem(t),!1}catch{return!0}}function oo(){return!ro()||localStorage.length>0}function io(t){var i=this,r={};if(t)for(var a in t)r[a]=t[a];return r.keyPrefix=An(t,i._defaultConfig),oo()?(i._dbInfo=r,r.serializer=et,l.resolve()):l.reject()}function so(t){var i=this,r=i.ready().then(function(){for(var a=i._dbInfo.keyPrefix,u=localStorage.length-1;u>=0;u--){var s=localStorage.key(u);s.indexOf(a)===0&&localStorage.removeItem(s)}});return S(r,t),r}function ao(t,i){var r=this;t=D(t);var a=r.ready().then(function(){var u=r._dbInfo,s=localStorage.getItem(u.keyPrefix+t);return s&&(s=u.serializer.deserialize(s)),s});return S(a,i),a}function uo(t,i){var r=this,a=r.ready().then(function(){for(var u=r._dbInfo,s=u.keyPrefix,d=s.length,m=localStorage.length,_=1,b=0;b<m;b++){var w=localStorage.key(b);if(w.indexOf(s)===0){var A=localStorage.getItem(w);if(A&&(A=u.serializer.deserialize(A)),A=t(A,w.substring(d),_++),A!==void 0)return A}}});return S(a,i),a}function co(t,i){var r=this,a=r.ready().then(function(){var u=r._dbInfo,s;try{s=localStorage.key(t)}catch{s=null}return s&&(s=s.substring(u.keyPrefix.length)),s});return S(a,i),a}function fo(t){var i=this,r=i.ready().then(function(){for(var a=i._dbInfo,u=localStorage.length,s=[],d=0;d<u;d++){var m=localStorage.key(d);m.indexOf(a.keyPrefix)===0&&s.push(m.substring(a.keyPrefix.length))}return s});return S(r,t),r}function lo(t){var i=this,r=i.keys().then(function(a){return a.length});return S(r,t),r}function ho(t,i){var r=this;t=D(t);var a=r.ready().then(function(){var u=r._dbInfo;localStorage.removeItem(u.keyPrefix+t)});return S(a,i),a}function vo(t,i,r){var a=this;t=D(t);var u=a.ready().then(function(){i===void 0&&(i=null);var s=i;return new l(function(d,m){var _=a._dbInfo;_.serializer.serialize(i,function(b,w){if(w)m(w);else try{localStorage.setItem(_.keyPrefix+t,b),d(s)}catch(A){(A.name==="QuotaExceededError"||A.name==="NS_ERROR_DOM_QUOTA_REACHED")&&m(A),m(A)}})})});return S(u,r),u}function po(t,i){if(i=Y.apply(this,arguments),t=typeof t!="function"&&t||{},!t.name){var r=this.config();t.name=t.name||r.name,t.storeName=t.storeName||r.storeName}var a=this,u;return t.name?u=new l(function(s){t.storeName?s(An(t,a._defaultConfig)):s(t.name+"/")}).then(function(s){for(var d=localStorage.length-1;d>=0;d--){var m=localStorage.key(d);m.indexOf(s)===0&&localStorage.removeItem(m)}}):u=l.reject("Invalid arguments"),S(u,i),u}var mo={_driver:"localStorageWrapper",_initStorage:io,_support:no(),iterate:uo,getItem:ao,setItem:vo,removeItem:ho,clear:so,length:lo,key:co,keys:fo,dropInstance:po},go=function(i,r){return i===r||typeof i=="number"&&typeof r=="number"&&isNaN(i)&&isNaN(r)},yo=function(i,r){for(var a=i.length,u=0;u<a;){if(go(i[u],r))return!0;u++}return!1},Ln=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"},Re={},Bn={},we={INDEXEDDB:Mr,WEBSQL:to,LOCALSTORAGE:mo},_o=[we.INDEXEDDB._driver,we.WEBSQL._driver,we.LOCALSTORAGE._driver],He=["dropInstance"],tt=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(He),bo={description:"",driver:_o.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function wo(t,i){t[i]=function(){var r=arguments;return t.ready().then(function(){return t[i].apply(t,r)})}}function nt(){for(var t=1;t<arguments.length;t++){var i=arguments[t];if(i)for(var r in i)i.hasOwnProperty(r)&&(Ln(i[r])?arguments[0][r]=i[r].slice():arguments[0][r]=i[r])}return arguments[0]}var $o=function(){function t(i){v(this,t);for(var r in we)if(we.hasOwnProperty(r)){var a=we[r],u=a._driver;this[r]=u,Re[u]||this.defineDriver(a)}this._defaultConfig=nt({},bo),this._config=nt({},this._defaultConfig,i),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return t.prototype.config=function(r){if((typeof r>"u"?"undefined":h(r))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var a in r){if(a==="storeName"&&(r[a]=r[a].replace(/\W/g,"_")),a==="version"&&typeof r[a]!="number")return new Error("Database version must be a number.");this._config[a]=r[a]}return"driver"in r&&r.driver?this.setDriver(this._config.driver):!0}else return typeof r=="string"?this._config[r]:this._config},t.prototype.defineDriver=function(r,a,u){var s=new l(function(d,m){try{var _=r._driver,b=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!r._driver){m(b);return}for(var w=tt.concat("_initStorage"),A=0,x=w.length;A<x;A++){var P=w[A],U=!yo(He,P);if((U||r[P])&&typeof r[P]!="function"){m(b);return}}var W=function(){for(var Ne=function(Io){return function(){var Ao=new Error("Method "+Io+" is not implemented by the current driver"),Tn=l.reject(Ao);return S(Tn,arguments[arguments.length-1]),Tn}},rt=0,Eo=He.length;rt<Eo;rt++){var ot=He[rt];r[ot]||(r[ot]=Ne(ot))}};W();var z=function(Ne){Re[_]&&console.info("Redefining LocalForage driver: "+_),Re[_]=r,Bn[_]=Ne,d()};"_support"in r?r._support&&typeof r._support=="function"?r._support().then(z,m):z(!!r._support):z(!0)}catch(X){m(X)}});return B(s,a,u),s},t.prototype.driver=function(){return this._driver||null},t.prototype.getDriver=function(r,a,u){var s=Re[r]?l.resolve(Re[r]):l.reject(new Error("Driver not found."));return B(s,a,u),s},t.prototype.getSerializer=function(r){var a=l.resolve(et);return B(a,r),a},t.prototype.ready=function(r){var a=this,u=a._driverSet.then(function(){return a._ready===null&&(a._ready=a._initDriver()),a._ready});return B(u,r,r),u},t.prototype.setDriver=function(r,a,u){var s=this;Ln(r)||(r=[r]);var d=this._getSupportedDrivers(r);function m(){s._config.driver=s.driver()}function _(A){return s._extend(A),m(),s._ready=s._initStorage(s._config),s._ready}function b(A){return function(){var x=0;function P(){for(;x<A.length;){var U=A[x];return x++,s._dbInfo=null,s._ready=null,s.getDriver(U).then(_).catch(P)}m();var W=new Error("No available storage method found.");return s._driverSet=l.reject(W),s._driverSet}return P()}}var w=this._driverSet!==null?this._driverSet.catch(function(){return l.resolve()}):l.resolve();return this._driverSet=w.then(function(){var A=d[0];return s._dbInfo=null,s._ready=null,s.getDriver(A).then(function(x){s._driver=x._driver,m(),s._wrapLibraryMethodsWithReady(),s._initDriver=b(d)})}).catch(function(){m();var A=new Error("No available storage method found.");return s._driverSet=l.reject(A),s._driverSet}),B(this._driverSet,a,u),this._driverSet},t.prototype.supports=function(r){return!!Bn[r]},t.prototype._extend=function(r){nt(this,r)},t.prototype._getSupportedDrivers=function(r){for(var a=[],u=0,s=r.length;u<s;u++){var d=r[u];this.supports(d)&&a.push(d)}return a},t.prototype._wrapLibraryMethodsWithReady=function(){for(var r=0,a=tt.length;r<a;r++)wo(this,tt[r])},t.prototype.createInstance=function(r){return new t(r)},t}(),So=new $o;c.exports=So},{3:3}]},{},[4])(4)})})(mt);var nr=mt.exports;const rr=tr(nr),ye=[];function or(e,n=F){let o;const c=new Set;function f(g){if(at(e,g)&&(e=g,o)){const E=!ye.length;for(const y of c)y[1](),ye.push(y,e);if(E){for(let y=0;y<ye.length;y+=2)ye[y][0](ye[y+1]);ye.length=0}}}function h(g){f(g(e))}function v(g,E=F){const y=[g,E];return c.add(y),c.size===1&&(o=n(f,h)||F),g(e),()=>{c.delete(y),c.size===0&&o&&(o(),o=null)}}return{set:f,update:h,subscribe:v}}rr.config({name:"SNS HPC AI Assitant"});const le={Unknown:{slug:"unknown",description:"Checking the AI server status...",icon:"⏳"},Error:{slug:"error",description:"The AI server is currently unavailable",icon:"🔴"},OK:{slug:"ok",description:"The AI server is fully functional",icon:"🟢"},Running:{slug:"running",description:"The AI server is working to answer",icon:"🔵"},Degraded:{slug:"degraded",description:"The AI server is currently degraded",icon:"🟡"}};class ir{constructor(n){this.baseURL=n,this.status=or(le.Unknown)}async getBestModel(n,o){o=o||{};try{const c=await fetch(`${this.baseURL}/api/tags`,{method:"GET",...o});if(c.status===200){const h=(await c.json()).models.map(v=>v.model);for(const v of n)if(h.includes(v.model))return this.status.set(v.premium?le.OK:le.Degraded),v.model}}catch(c){console.error(c)}this.status.set(le.Error)}async preloadModel(n,o){o=o||{};try{if((await fetch(`${this.baseURL}/api/generate`,{method:"POST",body:JSON.stringify({model:n}),...o})).status===200)return null}catch(c){console.error(c)}this.status.set(le.Error)}async chat(n,o){o=o||{};const c=xn(this.status);try{this.status.set(le.Running);const f=await fetch(`${this.baseURL}/api/chat`,{method:"POST",body:JSON.stringify(n),...o});if(f.status===200)return this.status.set(c),await f.json()}catch(f){console.error(f)}this.status.set(le.Error)}}var se={},M={},V={};Object.defineProperty(V,"__esModule",{value:!0}),V.output=V.exists=V.hash=V.bytes=V.bool=V.number=void 0;function Pe(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}V.number=Pe;function gt(e){if(typeof e!="boolean")throw new Error(`Expected boolean, not ${e}`)}V.bool=gt;function sr(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function Ye(e,...n){if(!sr(e))throw new Error("Expected Uint8Array");if(n.length>0&&!n.includes(e.length))throw new Error(`Expected Uint8Array of length ${n}, not of length=${e.length}`)}V.bytes=Ye;function yt(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Pe(e.outputLen),Pe(e.blockLen)}V.hash=yt;function _t(e,n=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(n&&e.finished)throw new Error("Hash#digest() has already been called")}V.exists=_t;function bt(e,n){Ye(e);const o=n.outputLen;if(e.length<o)throw new Error(`digestInto() expects output buffer of length at least ${o}`)}V.output=bt;const ar={number:Pe,bool:gt,bytes:Ye,hash:yt,exists:_t,output:bt};V.default=ar;var T={};Object.defineProperty(T,"__esModule",{value:!0}),T.add5L=T.add5H=T.add4H=T.add4L=T.add3H=T.add3L=T.add=T.rotlBL=T.rotlBH=T.rotlSL=T.rotlSH=T.rotr32L=T.rotr32H=T.rotrBL=T.rotrBH=T.rotrSL=T.rotrSH=T.shrSL=T.shrSH=T.toBig=T.split=T.fromBig=void 0;const Ue=BigInt(2**32-1),Ve=BigInt(32);function Ke(e,n=!1){return n?{h:Number(e&Ue),l:Number(e>>Ve&Ue)}:{h:Number(e>>Ve&Ue)|0,l:Number(e&Ue)|0}}T.fromBig=Ke;function wt(e,n=!1){let o=new Uint32Array(e.length),c=new Uint32Array(e.length);for(let f=0;f<e.length;f++){const{h,l:v}=Ke(e[f],n);[o[f],c[f]]=[h,v]}return[o,c]}T.split=wt;const $t=(e,n)=>BigInt(e>>>0)<<Ve|BigInt(n>>>0);T.toBig=$t;const St=(e,n,o)=>e>>>o;T.shrSH=St;const Et=(e,n,o)=>e<<32-o|n>>>o;T.shrSL=Et;const It=(e,n,o)=>e>>>o|n<<32-o;T.rotrSH=It;const At=(e,n,o)=>e<<32-o|n>>>o;T.rotrSL=At;const Lt=(e,n,o)=>e<<64-o|n>>>o-32;T.rotrBH=Lt;const Bt=(e,n,o)=>e>>>o-32|n<<64-o;T.rotrBL=Bt;const Tt=(e,n)=>n;T.rotr32H=Tt;const Ot=(e,n)=>e;T.rotr32L=Ot;const xt=(e,n,o)=>e<<o|n>>>32-o;T.rotlSH=xt;const Rt=(e,n,o)=>n<<o|e>>>32-o;T.rotlSL=Rt;const Nt=(e,n,o)=>n<<o-32|e>>>64-o;T.rotlBH=Nt;const Ct=(e,n,o)=>e<<o-32|n>>>64-o;T.rotlBL=Ct;function Dt(e,n,o,c){const f=(n>>>0)+(c>>>0);return{h:e+o+(f/2**32|0)|0,l:f|0}}T.add=Dt;const kt=(e,n,o)=>(e>>>0)+(n>>>0)+(o>>>0);T.add3L=kt;const Pt=(e,n,o,c)=>n+o+c+(e/2**32|0)|0;T.add3H=Pt;const Ut=(e,n,o,c)=>(e>>>0)+(n>>>0)+(o>>>0)+(c>>>0);T.add4L=Ut;const Mt=(e,n,o,c,f)=>n+o+c+f+(e/2**32|0)|0;T.add4H=Mt;const jt=(e,n,o,c,f)=>(e>>>0)+(n>>>0)+(o>>>0)+(c>>>0)+(f>>>0);T.add5L=jt;const Ht=(e,n,o,c,f,h)=>n+o+c+f+h+(e/2**32|0)|0;T.add5H=Ht;const ur={fromBig:Ke,split:wt,toBig:$t,shrSH:St,shrSL:Et,rotrSH:It,rotrSL:At,rotrBH:Lt,rotrBL:Bt,rotr32H:Tt,rotr32L:Ot,rotlSH:xt,rotlSL:Rt,rotlBH:Nt,rotlBL:Ct,add:Dt,add3L:kt,add3H:Pt,add4L:Ut,add4H:Mt,add5H:Ht,add5L:jt};T.default=ur;var Ft={},Me={};Object.defineProperty(Me,"__esModule",{value:!0}),Me.crypto=void 0,Me.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,function(e){/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(e,"__esModule",{value:!0}),e.randomBytes=e.wrapXOFConstructorWithOpts=e.wrapConstructorWithOpts=e.wrapConstructor=e.checkOpts=e.Hash=e.concatBytes=e.toBytes=e.utf8ToBytes=e.asyncLoop=e.nextTick=e.hexToBytes=e.bytesToHex=e.isLE=e.rotr=e.createView=e.u32=e.u8=void 0;const n=Me,o=p=>new Uint8Array(p.buffer,p.byteOffset,p.byteLength);e.u8=o;const c=p=>new Uint32Array(p.buffer,p.byteOffset,Math.floor(p.byteLength/4));e.u32=c;function f(p){return p instanceof Uint8Array||p!=null&&typeof p=="object"&&p.constructor.name==="Uint8Array"}const h=p=>new DataView(p.buffer,p.byteOffset,p.byteLength);e.createView=h;const v=(p,L)=>p<<32-L|p>>>L;if(e.rotr=v,e.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,!e.isLE)throw new Error("Non little-endian hardware is not supported");const g=Array.from({length:256},(p,L)=>L.toString(16).padStart(2,"0"));function E(p){if(!f(p))throw new Error("Uint8Array expected");let L="";for(let N=0;N<p.length;N++)L+=g[p[N]];return L}e.bytesToHex=E;const y={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function I(p){if(p>=y._0&&p<=y._9)return p-y._0;if(p>=y._A&&p<=y._F)return p-(y._A-10);if(p>=y._a&&p<=y._f)return p-(y._a-10)}function l(p){if(typeof p!="string")throw new Error("hex string expected, got "+typeof p);const L=p.length,N=L/2;if(L%2)throw new Error("padded hex string expected, got unpadded hex of length "+L);const R=new Uint8Array(N);for(let k=0,H=0;k<N;k++,H+=2){const ue=I(p.charCodeAt(H)),de=I(p.charCodeAt(H+1));if(ue===void 0||de===void 0){const xe=p[H]+p[H+1];throw new Error('hex string expected, got non-hex character "'+xe+'" at index '+H)}R[k]=ue*16+de}return R}e.hexToBytes=l;const S=async()=>{};e.nextTick=S;async function B(p,L,N){let R=Date.now();for(let k=0;k<p;k++){N(k);const H=Date.now()-R;H>=0&&H<L||(await(0,e.nextTick)(),R+=H)}}e.asyncLoop=B;function D(p){if(typeof p!="string")throw new Error(`utf8ToBytes expected string, got ${typeof p}`);return new Uint8Array(new TextEncoder().encode(p))}e.utf8ToBytes=D;function Y(p){if(typeof p=="string"&&(p=D(p)),!f(p))throw new Error(`expected Uint8Array, got ${typeof p}`);return p}e.toBytes=Y;function j(...p){let L=0;for(let R=0;R<p.length;R++){const k=p[R];if(!f(k))throw new Error("Uint8Array expected");L+=k.length}const N=new Uint8Array(L);for(let R=0,k=0;R<p.length;R++){const H=p[R];N.set(H,k),k+=H.length}return N}e.concatBytes=j;class Q{clone(){return this._cloneInto()}}e.Hash=Q;const q={}.toString;function Oe(p,L){if(L!==void 0&&q.call(L)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(p,L)}e.checkOpts=Oe;function ne(p){const L=R=>p().update(Y(R)).digest(),N=p();return L.outputLen=N.outputLen,L.blockLen=N.blockLen,L.create=()=>p(),L}e.wrapConstructor=ne;function $(p){const L=(R,k)=>p(k).update(Y(R)).digest(),N=p({});return L.outputLen=N.outputLen,L.blockLen=N.blockLen,L.create=R=>p(R),L}e.wrapConstructorWithOpts=$;function C(p){const L=(R,k)=>p(k).update(Y(R)).digest(),N=p({});return L.outputLen=N.outputLen,L.blockLen=N.blockLen,L.create=R=>p(R),L}e.wrapXOFConstructorWithOpts=C;function O(p=32){if(n.crypto&&typeof n.crypto.getRandomValues=="function")return n.crypto.getRandomValues(new Uint8Array(p));throw new Error("crypto.getRandomValues must be defined")}e.randomBytes=O}(Ft),Object.defineProperty(M,"__esModule",{value:!0}),M.shake256=M.shake128=M.keccak_512=M.keccak_384=M.keccak_256=M.keccak_224=M.sha3_512=M.sha3_384=M.sha3_256=M.sha3_224=M.Keccak=M.keccakP=void 0;const _e=V,Ie=T,Ae=Ft,[zt,qt,Wt]=[[],[],[]],cr=BigInt(0),Le=BigInt(1),fr=BigInt(2),lr=BigInt(7),dr=BigInt(256),hr=BigInt(113);for(let e=0,n=Le,o=1,c=0;e<24;e++){[o,c]=[c,(2*o+3*c)%5],zt.push(2*(5*c+o)),qt.push((e+1)*(e+2)/2%64);let f=cr;for(let h=0;h<7;h++)n=(n<<Le^(n>>lr)*hr)%dr,n&fr&&(f^=Le<<(Le<<BigInt(h))-Le);Wt.push(f)}const[vr,pr]=(0,Ie.split)(Wt,!0),Yt=(e,n,o)=>o>32?(0,Ie.rotlBH)(e,n,o):(0,Ie.rotlSH)(e,n,o),Vt=(e,n,o)=>o>32?(0,Ie.rotlBL)(e,n,o):(0,Ie.rotlSL)(e,n,o);function Kt(e,n=24){const o=new Uint32Array(10);for(let c=24-n;c<24;c++){for(let v=0;v<10;v++)o[v]=e[v]^e[v+10]^e[v+20]^e[v+30]^e[v+40];for(let v=0;v<10;v+=2){const g=(v+8)%10,E=(v+2)%10,y=o[E],I=o[E+1],l=Yt(y,I,1)^o[g],S=Vt(y,I,1)^o[g+1];for(let B=0;B<50;B+=10)e[v+B]^=l,e[v+B+1]^=S}let f=e[2],h=e[3];for(let v=0;v<24;v++){const g=qt[v],E=Yt(f,h,g),y=Vt(f,h,g),I=zt[v];f=e[I],h=e[I+1],e[I]=E,e[I+1]=y}for(let v=0;v<50;v+=10){for(let g=0;g<10;g++)o[g]=e[v+g];for(let g=0;g<10;g++)e[v+g]^=~o[(g+2)%10]&o[(g+4)%10]}e[0]^=vr[c],e[1]^=pr[c]}o.fill(0)}M.keccakP=Kt;class Be extends Ae.Hash{constructor(n,o,c,f=!1,h=24){if(super(),this.blockLen=n,this.suffix=o,this.outputLen=c,this.enableXOF=f,this.rounds=h,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,_e.number)(c),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,Ae.u32)(this.state)}keccak(){Kt(this.state32,this.rounds),this.posOut=0,this.pos=0}update(n){(0,_e.exists)(this);const{blockLen:o,state:c}=this;n=(0,Ae.toBytes)(n);const f=n.length;for(let h=0;h<f;){const v=Math.min(o-this.pos,f-h);for(let g=0;g<v;g++)c[this.pos++]^=n[h++];this.pos===o&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:n,suffix:o,pos:c,blockLen:f}=this;n[c]^=o,o&128&&c===f-1&&this.keccak(),n[f-1]^=128,this.keccak()}writeInto(n){(0,_e.exists)(this,!1),(0,_e.bytes)(n),this.finish();const o=this.state,{blockLen:c}=this;for(let f=0,h=n.length;f<h;){this.posOut>=c&&this.keccak();const v=Math.min(c-this.posOut,h-f);n.set(o.subarray(this.posOut,this.posOut+v),f),this.posOut+=v,f+=v}return n}xofInto(n){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(n)}xof(n){return(0,_e.number)(n),this.xofInto(new Uint8Array(n))}digestInto(n){if((0,_e.output)(n,this),this.finished)throw new Error("digest() was already called");return this.writeInto(n),this.destroy(),n}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(n){const{blockLen:o,suffix:c,outputLen:f,rounds:h,enableXOF:v}=this;return n||(n=new Be(o,c,f,v,h)),n.state32.set(this.state32),n.pos=this.pos,n.posOut=this.posOut,n.finished=this.finished,n.rounds=h,n.suffix=c,n.outputLen=f,n.enableXOF=v,n.destroyed=this.destroyed,n}}M.Keccak=Be;const ae=(e,n,o)=>(0,Ae.wrapConstructor)(()=>new Be(n,e,o));M.sha3_224=ae(6,144,224/8),M.sha3_256=ae(6,136,256/8),M.sha3_384=ae(6,104,384/8),M.sha3_512=ae(6,72,512/8),M.keccak_224=ae(1,144,224/8),M.keccak_256=ae(1,136,256/8),M.keccak_384=ae(1,104,384/8),M.keccak_512=ae(1,72,512/8);const Xt=(e,n,o)=>(0,Ae.wrapXOFConstructorWithOpts)((c={})=>new Be(n,e,c.dkLen===void 0?o:c.dkLen,!0));M.shake128=Xt(31,168,128/8),M.shake256=Xt(31,136,256/8);const{sha3_512:mr}=M,Gt=24,Te=32,Xe=(e=4,n=Math.random)=>{let o="";for(;o.length<e;)o=o+Math.floor(n()*36).toString(36);return o};function Jt(e){let n=8n,o=0n;for(const c of e.values()){const f=BigInt(c);o=(o<<n)+f}return o}const Qt=(e="")=>Jt(mr(e)).toString(36).slice(1),Zt=Array.from({length:26},(e,n)=>String.fromCharCode(n+97)),gr=e=>Zt[Math.floor(e()*Zt.length)],en=({globalObj:e=typeof ge<"u"?ge:typeof window<"u"?window:{},random:n=Math.random}={})=>{const o=Object.keys(e).toString(),c=o.length?o+Xe(Te,n):Xe(Te,n);return Qt(c).substring(0,Te)},tn=e=>()=>e++,yr=476782367,nn=({random:e=Math.random,counter:n=tn(Math.floor(e()*yr)),length:o=Gt,fingerprint:c=en({random:e})}={})=>function(){const h=gr(e),v=Date.now().toString(36),g=n().toString(36),E=Xe(o,e),y=`${v+E+g+c}`;return`${h+Qt(y).substring(1,o)}`},_r=nn(),br=(e,{minLength:n=2,maxLength:o=Te}={})=>{const c=e.length,f=/^[0-9a-z]+$/;try{if(typeof e=="string"&&c>=n&&c<=o&&f.test(e))return!0}finally{}return!1};se.getConstants=()=>({defaultLength:Gt,bigLength:Te}),se.init=nn,se.createId=_r,se.bufToBigInt=Jt,se.createCounter=tn,se.createFingerprint=en,se.isCuid=br;const{createId:wr,init:To,getConstants:Oo,isCuid:xo}=se;var $r=wr;class Sr{constructor(n,o,c){if(this.updated=n,this.ollama=o,c)this._=c;else{const f=new Date().toISOString();this._={chatId:$r(),created:f,lastUpdated:f,title:null,tags:[],starred:!1,messages:[],options:{}}}}async save({untouched:n}){n&&(this._.lastUpdated=new Date().toISOString()),await localForage.setItem(`chat/${this._.chatId}`,JSON.stringify(this._))}addMessage(n){this._.messages.push(n),this.updated()}async complete(n){const o=await this.ollama.chat({model:n,messages:this._.messages,stream:!1});this.addMessage(o.message)}}function Er(e){Rn(e,"svelte-1qjvzjq",".mb-10.svelte-1qjvzjq{margin-bottom:10px}.text-bold.svelte-1qjvzjq{font-weight:700}.mt-10.svelte-1qjvzjq{margin-top:10px}.text-small.svelte-1qjvzjq{font-size:80%}.text.svelte-1qjvzjq{display:block;border-radius:10px;font-size:120%;padding:8px 8px;width:100%}.chat-bot.svelte-1qjvzjq{min-width:25%;border:1px solid grey;border-radius:5px;position:absolute;bottom:10px;right:10px;padding:10px 10px;display:flex;flex-direction:column;align-items:stretch}")}function rn(e,n,o){const c=e.slice();return c[11]=n[o],c}function on(e){let n,o,c,f,h,v,g,E,y=vt(e[2]._.messages),I=[];for(let l=0;l<y.length;l+=1)I[l]=an(rn(e,y,l));return{c(){for(let l=0;l<I.length;l+=1)I[l].c();n=Ce(),o=te("form"),c=te("input"),h=Ce(),v=te("div"),v.textContent="The assistant makes mistakes, always check important information",c.disabled=f=e[0]&&e[4].slug=="running",J(c,"class","text svelte-1qjvzjq"),J(c,"type","text"),J(c,"placeholder","What do you want help with?"),J(o,"action","#"),J(v,"class","mt-10 text-small svelte-1qjvzjq")},m(l,S){for(let B=0;B<I.length;B+=1)I[B]&&I[B].m(l,S);ie(l,n,S),ie(l,o,S),Z(o,c),ft(c,e[3]),ie(l,h,S),ie(l,v,S),g||(E=[ct(c,"input",e[7]),ct(o,"submit",Pn(e[6]))],g=!0)},p(l,S){if(S&36){y=vt(l[2]._.messages);let B;for(B=0;B<y.length;B+=1){const D=rn(l,y,B);I[B]?I[B].p(D,S):(I[B]=an(D),I[B].c(),I[B].m(n.parentNode,n))}for(;B<I.length;B+=1)I[B].d(1);I.length=y.length}S&17&&f!==(f=l[0]&&l[4].slug=="running")&&(c.disabled=f),S&8&&c.value!==l[3]&&ft(c,l[3])},d(l){l&&(ee(n),ee(o),ee(h),ee(v)),Dn(I,l),g=!1,$e(E)}}}function sn(e){let n,o=e[5][e[11].role]+"",c,f,h=e[11].content+"",v;return{c(){n=te("div"),c=he(o),f=Ce(),v=he(h),J(n,"class","message")},m(g,E){ie(g,n,E),Z(n,c),Z(n,f),Z(n,v)},p(g,E){E&4&&o!==(o=g[5][g[11].role]+"")&&Fe(c,o),E&4&&h!==(h=g[11].content+"")&&Fe(v,h)},d(g){g&&ee(n)}}}function an(e){let n,o=e[11].role!="system"&&sn(e);return{c(){o&&o.c(),n=kn()},m(c,f){o&&o.m(c,f),ie(c,n,f)},p(c,f){c[11].role!="system"?o?o.p(c,f):(o=sn(c),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},d(c){c&&ee(n),o&&o.d(c)}}}function Ir(e){let n,o,c,f,h=(e[0]?e[4].icon:"")+"",v,g,E,y=e[1]&&e[2]&&on(e);return{c(){n=te("content"),o=te("div"),c=he(`🤖 HPC AI Assistant
	`),f=te("span"),v=he(h),E=Ce(),y&&y.c(),J(f,"title",g=e[0]?e[4].description:""),J(o,"class","mb-10 text-bold svelte-1qjvzjq"),J(n,"class","chat-bot svelte-1qjvzjq")},m(I,l){ie(I,n,l),Z(n,o),Z(o,c),Z(o,f),Z(f,v),Z(n,E),y&&y.m(n,null)},p(I,[l]){l&17&&h!==(h=(I[0]?I[4].icon:"")+"")&&Fe(v,h),l&17&&g!==(g=I[0]?I[4].description:"")&&J(f,"title",g),I[1]&&I[2]?y?y.p(I,l):(y=on(I),y.c(),y.m(n,null)):y&&(y.d(1),y=null)},i:F,o:F,d(I){I&&ee(n),y&&y.d()}}}function Ar(e,n,o){let c,f=F,h=()=>(f(),f=ut(y,j=>o(4,c=j)),y);e.$$.on_destroy.push(()=>f());const v={role:"system",content:"You are LucIAno, an helpful AI assistant, expert in High Performance Computing, Linux System Administration, and Python and FORTRAN programming. You always answer to users very precisely and to-the-point, helping them to clarify their question when they are vaguely expressed. You politely refuse to answer questions not related to your expertise area. Write output in Markdown."},g=[{model:"notux:8x7b-v1-q3_K_L",premium:!0},{model:"nous-hermes2-mixtral:8x7b-dpo-q3_K_L",premium:!0},{model:"solar:10.7b-instruct-v1-q3_K_L",premium:!0},{model:"mistral:7b-instruct-v0.2-q3_K_L",premium:!1},{model:"stablelm2:1.6b-zephyr-q3_K_L",premium:!1}];let E,y,I,l;Hn(async()=>{const j=`${window.location.protocol}//${window.location.hostname}:${window.location.port}`;E=new ir(j),h(o(0,y=E.status)),o(1,I=await E.getBestModel(g)),I&&(await E.preloadModel(I),o(2,l=new Sr(()=>o(2,l),E)),l.addMessage(v))});let S;const B={user:"👤",assistant:"🤖"};async function D(){l.addMessage({role:"user",content:S}),o(3,S=""),await l.complete(I)}function Y(){S=this.value,o(3,S)}return[y,I,l,S,c,B,D,Y]}class un extends Zn{constructor(n){super(),Jn(this,n,Ar,Ir,at,{},Er)}}customElements.define("hpc-chatbot",Qn(un,{},[],[],!0)),K.ChatBot=un,Object.defineProperty(K,Symbol.toStringTag,{value:"Module"})});
//# sourceMappingURL=components.umd.cjs.map
